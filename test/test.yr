import std.stdio;

struct
| a : int
-> Test;


def opBinaryRight (op : string) (a : Test, b : Test) {
    static if (op.length == 1UL && op [0] == '+') 
	return a.a + b.a;
    else if (op == "-") {
	static assert (false, "ici");
    } else {
	return Test (a.a * b.a);
    }
}

def opIndex (str : string, b : range!int) {
    import std.string;
    return str.substr (b.fst, b.scd);
}

def main () {
    println (Test(2) + Test (2) * Test (8));
    let a = ('salut') [0 .. 5];    
    println (a [4]);
}


